<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basit Login Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .container { max-width: 400px; margin: 0 auto; }
        .form-group { margin: 20px 0; }
        label { display: block; margin-bottom: 5px; }
        input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; }
        button { width: 100%; padding: 12px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .message { padding: 10px; margin: 10px 0; border-radius: 4px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Basit Login Test</h1>
        
        <form id="loginForm">
            <div class="form-group">
                <label for="email">E-posta:</label>
                <input type="email" id="email" name="email" value="admin@arsarazi.com" required>
            </div>
            
            <div class="form-group">
                <label for="password">Şifre:</label>
                <input type="password" id="password" name="password" value="admin123" required>
            </div>
            
            <button type="submit">Giriş Yap</button>
        </form>
        
        <div id="message"></div>
        
        <div style="margin-top: 20px;">
            <h3>Test Butonları:</h3>
            <button onclick="testAdmin()" style="width: auto; margin: 5px;">Admin Test</button>
            <button onclick="testGD()" style="width: auto; margin: 5px;">GD Test</button>
            <button onclick="testCustomer()" style="width: auto; margin: 5px;">Customer Test</button>
            <button onclick="clearStorage()" style="width: auto; margin: 5px;">Storage Temizle</button>
        </div>
        
        <div style="margin-top: 20px;">
            <h3>Storage Durumu:</h3>
            <div id="storageInfo"></div>
        </div>
    </div>

    <script>
        // Form submit event listener
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('Form submitted!');
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            console.log('Email:', email);
            console.log('Password:', password);
            
            // Simple login logic
            let userType = 'customer';
            let redirectUrl = 'customer-dashboard.html';
            
            if (email === 'admin@arsarazi.com' && password === 'admin123') {
                userType = 'admin';
                redirectUrl = 'dashboard.html';
                showMessage('Admin girişi başarılı!', 'success');
            } else if (email === 'gd@arsarazi.com' && password === 'gd123') {
                userType = 'gd';
                redirectUrl = 'gd-dashboard.html';
                showMessage('GD girişi başarılı!', 'success');
            } else if (password === 'customer123') {
                userType = 'customer';
                redirectUrl = 'customer-dashboard.html';
                showMessage('Müşteri girişi başarılı!', 'success');
            } else {
                showMessage('Giriş başarısız! E-posta veya şifre hatalı.', 'error');
                return;
            }
            
            // Store in localStorage
            localStorage.setItem('userLoggedIn', 'true');
            localStorage.setItem('userEmail', email);
            localStorage.setItem('arsarazi_user', JSON.stringify({
                id: Date.now(),
                name: email.split('@')[0],
                email: email,
                type: userType,
                role: userType === 'admin' ? 'administrator' : userType === 'gd' ? 'gayrimenkul_danismani' : 'customer'
            }));
            
            updateStorageInfo();
            
            // Redirect after 2 seconds
            setTimeout(() => {
                window.location.href = redirectUrl;
            }, 2000);
        });
        
        function showMessage(text, type) {
            const messageDiv = document.getElementById('message');
            messageDiv.textContent = text;
            messageDiv.className = 'message ' + type;
        }
        
        function updateStorageInfo() {
            const storageInfo = document.getElementById('storageInfo');
            const userLoggedIn = localStorage.getItem('userLoggedIn');
            const userEmail = localStorage.getItem('userEmail');
            const arsaraziUser = localStorage.getItem('arsarazi_user');
            
            storageInfo.innerHTML = `
                <p><strong>userLoggedIn:</strong> ${userLoggedIn}</p>
                <p><strong>userEmail:</strong> ${userEmail}</p>
                <p><strong>arsarazi_user:</strong> ${arsaraziUser}</p>
            `;
        }
        
        function testAdmin() {
            document.getElementById('email').value = 'admin@arsarazi.com';
            document.getElementById('password').value = 'admin123';
            document.getElementById('loginForm').dispatchEvent(new Event('submit'));
        }
        
        function testGD() {
            document.getElementById('email').value = 'gd@arsarazi.com';
            document.getElementById('password').value = 'gd123';
            document.getElementById('loginForm').dispatchEvent(new Event('submit'));
        }
        
        function testCustomer() {
            document.getElementById('email').value = 'customer@arsarazi.com';
            document.getElementById('password').value = 'customer123';
            document.getElementById('loginForm').dispatchEvent(new Event('submit'));
        }
        
        function clearStorage() {
            localStorage.removeItem('userLoggedIn');
            localStorage.removeItem('userEmail');
            localStorage.removeItem('arsarazi_user');
            updateStorageInfo();
            showMessage('Storage temizlendi!', 'success');
        }
        
        // Initialize
        updateStorageInfo();
        console.log('Simple login page loaded!');
    </script>
</body>
</html>
