<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRM Dashboard - Arsarazi Gayrimenkul</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" sizes="any" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMyIDRDMzYuNDE4MyA0IDQwIDcuNTgxNzIgNDAgMTJDMzIgMjQgMzIgNDggMzIgNDhDMzIgNDggMjQgMjQgMjQgMTJDMjQgNy41ODE3MiAyNy41ODE3IDQgMzIgNFoiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBCMzRDO3N0b3Atb3BhY2l0eToxIiAvPgo8c3RvcCBvZmZzZXQ9IjUwJSIgc3R5bGU9InN0b3AtY29sb3I6IzAwQjk3MTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBCMzRDO3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+CjxjaXJjbGUgY3g9IjMyIiBjeT0iMjQiIHI9IjgiIGZpbGw9IiMwMDY2RkYiLz4KPHBhdGggZD0iTTMyIDEyQzM2LjQxOTEgMTIgNDAgMTYuNDA5MSA0MCAyMEgyNEM0MCAxNi40MDkxIDQwIDEyIDMyIDEyWiIgZmlsbD0iI0ZGRjkwMCIvPgo8cGF0aCBkPSJNMzIgNTJDMzIgNTIgMjQgNDQgMjQgNDBIMzJWNTJaIiBmaWxsPSIjMDA2NkZGIi8+Cjwvc3ZnPgo=">
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik05MCAxMEMxMDAuNDE4MyAxMCAxMTAgMTkuNTgxNyAxMTAgMzBDMTEwIDQ2LjU1MjMgOTAgMTY4IDkwIDE2OEM5MCAxNjggNzAgNDYuNTUyMyA3MCAzMEM3MCAxOS41ODE3IDc5LjU4MTcgMTAgOTAgMTBaIiBmaWxsPSJ1cmwoI2dyYWRpZW50KSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudCIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzAwQjM0QztzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSI1MCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMEI5NzE7c3RvcC1vcGFjaXR5OjEiIC8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzAwQjM0QztzdG9wLW9wYWNpdHk6MSIgLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8Y2lyY2xlIGN4PSI5MCIgY3k9IjY3IiByPSIyMiIgZmlsbD0iIzAwNjZGRiIvPgo8cGF0aCBkPSJNOTAgMzBDMTAwLjQxOTEgMzAgMTEwIDQwLjQwOTEgMTEwIDUwSDcwQzExMCA0MC40MDkxIDExMCAzMCA5MCAzMFoiIGZpbGw9IiNGRkY5MDAiLz4KPHBhdGggZD0iTTkwIDE0NkM5MCAxNDYgNzAgMTM4IDcwIDEzMEg5MFYxNDZaIiBmaWxsPSIjMDA2NkZGIi8+Cjwvc3ZnPgo=">
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE2IDJDMjAuNDE4MyAyIDI0IDUuNTgxNzIgMjQgMTBDMjQgMTUuNTUyMyAxNiAyOCAxNiAyOEMxNiAyOCA4IDE1LjU1MjMgOCAxMEM4IDUuNTgxNzIgMTEuNTgxNyAyIDE2IDJaIiBmaWxsPSJ1cmwoI2dyYWRpZW50KSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudCIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzAwQjM0QztzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSI1MCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMEI5NzE7c3RvcC1vcGFjaXR5OjEiIC8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzAwQjM0QztzdG9wLW9wYWNpdHk6MSIgLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8Y2lyY2xlIGN4PSIxNiIgY3k9IjEyIiByPSI0IiBmaWxsPSIjMDA2NkZGIi8+CjxwYXRoIGQ9Ik0xNiA2QzE4LjIwOTEgNiAyMCA4LjIwOTEgMjAgMTBIMTJDMjAgOC4yMDkxIDIwIDYgMTYgNloiIGZpbGw9IiNGRkY5MDAiLz4KPHBhdGggZD0iTTE2IDI2QzE2IDI2IDEyIDIyIDEyIDIwSDE2VjI2WiIgZmlsbD0iIzAwNjZGRiIvPgo8L3N2Zz4K">
    <link rel="icon" type="image/png" sizes="16x16" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTggMUMxMS4zMTM3IDEgMTQgMy42ODYyOSAxNCA3QzE0IDEyLjU1MjMgOCAyNCA4IDI0QzggMjQgMiAxMi41NTIzIDIgN0MyIDMuNjg2MjkgNC42ODYyOSAxIDggMVoiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBCMzRDO3N0b3Atb3BhY2l0eToxIiAvPgo8c3RvcCBvZmZzZXQ9IjUwJSIgc3R5bGU9InN0b3AtY29sb3I6IzAwQjk3MTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBCMzRDO3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+CjxjaXJjbGUgY3g9IjgiIGN5PSI2IiByPSIyIiBmaWxsPSIjMDA2NkZGIi8+CjxwYXRoIGQ9Ik04IDNDOS4xMDQ1NyAzIDEwIDMuODk1NDMgMTAgNUg2QzEwIDMuODk1NDMgMTAgMyA4IDNaIiBmaWxsPSIjRkZGOTAwIi8+CjxwYXRoIGQ9Ik04IDEzQzggMTMgNiAxMSA2IDEwSDhWMTNaIiBmaWxsPSIjMDA2NkZGIi8+Cjwvc3ZnPgo=">
    <meta name="msapplication-TileColor" content="#00B34C">
    <meta name="theme-color" content="#00B34C">
    
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-green': '#52B947',
                        'primary-blue': '#0B5394',
                        'primary-yellow': '#FFC000',
                        'green-light': '#7FD276',
                        'green-dark': '#3A8232',
                        'blue-light': '#2B73B4',
                        'blue-dark': '#083E6B',
                        'yellow-light': '#FFD347',
                        'yellow-dark': '#E6A800'
                    }
                }
            }
        }
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .sidebar-item:hover { background-color: rgba(82, 185, 71, 0.1); }
        .sidebar-item.active { background-color: rgba(82, 185, 71, 0.2); border-left: 4px solid #52B947; }
        .stat-card { transition: all 0.3s ease; }
        .stat-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .sidebar { height: 100vh; position: fixed; left: 0; top: 0; }
        .main-content { margin-left: 16rem; }
        .chart-container { 
            position: relative; 
            height: 300px; 
            width: 100%; 
        }
        @media (max-width: 768px) {
            .sidebar { position: relative; height: auto; }
            .main-content { margin-left: 0; }
            .chart-container { height: 250px; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex">
        <!-- Sidebar -->
        <aside class="sidebar w-64 bg-white shadow-lg flex flex-col">
            <div class="p-4 border-b">
                <div class="flex items-center logo-container">
                    <img src="https://page.gensparksite.com/v1/base64_upload/db906ae7116ab45188a186d28c235383" 
                         alt="Arsarazi Logo" 
                         class="h-10 w-auto mr-2">
                    <span class="text-xl font-bold text-primary-blue">ARSARAZI CRM</span>
                </div>
            </div>
            
            <nav class="p-4 flex-1">
                <a href="dashboard.html" class="sidebar-item active flex items-center p-3 rounded-lg mb-2" onclick="handleDashboardClick(event)">
                    <i class="fas fa-cog w-6 text-primary-green"></i>
                    <span class="ml-3">Dashboard</span>
                </a>
                <a href="crm-properties.html" class="sidebar-item flex items-center p-3 rounded-lg mb-2">
                    <i class="fas fa-building w-6 text-gray-600"></i>
                    <span class="ml-3">Portföy Yönetimi</span>
                </a>
                <a href="crm-customers.html" class="sidebar-item flex items-center p-3 rounded-lg mb-2">
                    <i class="fas fa-users w-6 text-gray-600"></i>
                    <span class="ml-3">Müşteri Yönetimi</span>
                </a>
                <a href="crm-transactions.html" class="sidebar-item flex items-center p-3 rounded-lg mb-2">
                    <i class="fas fa-user-plus w-6 text-gray-600"></i>
                    <span class="ml-3">Potansiyel Müşteriler</span>
                </a>
                <a href="crm-reports.html" class="sidebar-item flex items-center p-3 rounded-lg mb-2">
                    <i class="fas fa-chart-bar w-6 text-gray-600"></i>
                    <span class="ml-3">Analitik & Raporlar</span>
                </a>
                <a href="crm-settings.html" class="sidebar-item flex items-center p-3 rounded-lg mb-2">
                    <i class="fas fa-cog w-6 text-gray-600"></i>
                    <span class="ml-3">Ayarlar</span>
                </a>
                
                <div class="border-t pt-4 mt-4">
                    <a href="index.html" class="sidebar-item flex items-center p-3 rounded-lg mb-2">
                        <i class="fas fa-globe w-6 text-gray-600"></i>
                        <span class="ml-3">Web Sitesine Git</span>
                    </a>
                    <button onclick="logout()" class="sidebar-item w-full flex items-center p-3 rounded-lg text-red-600 hover:bg-red-50">
                        <i class="fas fa-sign-out-alt w-6"></i>
                        <span class="ml-3">Çıkış Yap</span>
                    </button>
                </div>
            </nav>
            
            <div class="p-4 border-t mt-auto">
                <div class="flex items-center">
                    <img src="https://ui-avatars.com/api/?name=Admin+User&background=52B947&color=fff" 
                         class="w-10 h-10 rounded-full">
                    <div class="ml-3">
                        <p class="text-sm font-medium">Admin User</p>
                        <p class="text-xs text-gray-500">admin@arsarazi.com</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content flex-1">
            <!-- Top Bar -->
            <header class="bg-white shadow-sm border-b">
                <div class="flex items-center justify-between px-6 py-4">
                    <h1 class="text-2xl font-bold text-gray-800">Dashboard</h1>
                    <div class="flex items-center space-x-4">
                        <button class="relative p-2 text-gray-600 hover:text-primary-green">
                            <i class="fas fa-bell text-xl"></i>
                            <span class="absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">3</span>
                        </button>
                        <button onclick="toggleFullScreen()" class="p-2 text-gray-600 hover:text-primary-green">
                            <i class="fas fa-expand text-xl"></i>
                        </button>
                        <a href="index.html" class="p-2 text-gray-600 hover:text-primary-green">
                            <i class="fas fa-home text-xl"></i>
                        </a>
                    </div>
                </div>
            </header>

            <!-- Dashboard Content -->
            <div class="p-6" id="dashboard-content">
                <!-- Stats Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                    <div class="stat-card bg-white rounded-lg shadow p-6">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-gray-500 text-sm font-medium">Toplam Arsa</p>
                                <p class="text-3xl font-bold text-gray-800 mt-1" id="totalProperties">6</p>
                                <p class="text-green-500 text-sm mt-2 flex items-center" id="propertiesGrowth">
                                    <i class="fas fa-arrow-up mr-1"></i> <span id="propertiesGrowthText">0%</span> Artış
                                </p>
                            </div>
                            <div class="bg-primary-green/10 p-4 rounded-full flex-shrink-0">
                                <i class="fas fa-building text-2xl text-primary-green"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card bg-white rounded-lg shadow p-6">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-gray-500 text-sm font-medium">Aktif Müşteri</p>
                                <p class="text-3xl font-bold text-gray-800 mt-1" id="totalCustomers">2</p>
                                <p class="text-green-500 text-sm mt-2 flex items-center" id="customersGrowth">
                                    <i class="fas fa-arrow-up mr-1"></i> <span id="customersGrowthText">0%</span> Artış
                                </p>
                            </div>
                            <div class="bg-primary-blue/10 p-4 rounded-full flex-shrink-0">
                                <i class="fas fa-users text-2xl text-primary-blue"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card bg-white rounded-lg shadow p-6">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-gray-500 text-sm font-medium">Yeni Potansiyel</p>
                                <p class="text-3xl font-bold text-gray-800 mt-1" id="monthlyTransactions">0</p>
                                <p class="text-green-500 text-sm mt-2 flex items-center" id="transactionsGrowth">
                                    <i class="fas fa-arrow-up mr-1"></i> <span id="transactionsGrowthText">0%</span> Artış
                                </p>
                            </div>
                            <div class="bg-primary-yellow/10 p-4 rounded-full flex-shrink-0">
                                <i class="fas fa-user-plus text-2xl text-yellow-600"></i>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card bg-white rounded-lg shadow p-6">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-gray-500 text-sm font-medium">Bu Ay Satış</p>
                                <p class="text-3xl font-bold text-gray-800 mt-1" id="totalRevenue">2</p>
                                <p class="text-green-500 text-sm mt-2 flex items-center" id="revenueGrowth">
                                    <i class="fas fa-arrow-up mr-1"></i> <span id="revenueGrowthText">0%</span> Artış
                                </p>
                            </div>
                            <div class="bg-purple-100 p-4 rounded-full flex-shrink-0">
                                <i class="fas fa-chart-line text-2xl text-purple-600"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                    <!-- Property Types Chart -->
                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold">Arsa Türü Dağılımı</h3>
                            <button class="text-primary-green text-sm">Detaylı Rapor</button>
                        </div>
                        <div class="chart-container">
                            <canvas id="propertyChart"></canvas>
                        </div>
                    </div>

                    <!-- Sales Chart -->
                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold">Aylık Satış Trendi</h3>
                            <div class="flex items-center space-x-2">
                                <div class="w-4 h-4 bg-blue-500 rounded"></div>
                                <span class="text-sm text-gray-600">Satış Sayısı</span>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="salesChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Recent Activities & Quick Actions -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Recent Transactions -->
                    <div class="lg:col-span-2 bg-white rounded-lg shadow">
                        <div class="p-6 border-b">
                            <h3 class="text-lg font-semibold">Son İşlemler</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">İşlem Kodu</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Gayrimenkul</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Müşteri</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tutar</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Durum</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-4 py-3 text-sm">#TRX-2024-001</td>
                                        <td class="px-4 py-3 text-sm">Karesi Merkez Arsa</td>
                                        <td class="px-4 py-3 text-sm">Ahmet Yılmaz</td>
                                        <td class="px-4 py-3 text-sm font-medium">₺450,000</td>
                                        <td class="px-4 py-3">
                                            <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">Tamamlandı</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 text-sm">#TRX-2024-002</td>
                                        <td class="px-4 py-3 text-sm">Bandırma Villa</td>
                                        <td class="px-4 py-3 text-sm">Mehmet Demir</td>
                                        <td class="px-4 py-3 text-sm font-medium">₺1,200,000</td>
                                        <td class="px-4 py-3">
                                            <span class="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">Beklemede</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 text-sm">#TRX-2024-003</td>
                                        <td class="px-4 py-3 text-sm">Altıeylül Tarla</td>
                                        <td class="px-4 py-3 text-sm">Ayşe Kaya</td>
                                        <td class="px-4 py-3 text-sm font-medium">₺280,000</td>
                                        <td class="px-4 py-3">
                                            <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">İşlemde</span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="p-4 border-t">
                            <a href="#transactions" class="text-primary-green text-sm font-medium">Tüm İşlemleri Görüntüle →</a>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="bg-white rounded-lg shadow p-6">
                        <h3 class="text-lg font-semibold mb-4">Hızlı İşlemler</h3>
                        <div class="space-y-3">
                            <button onclick="openModal('property')" class="w-full bg-primary-green text-white py-3 px-4 rounded-lg hover:bg-green-dark transition flex items-center justify-center">
                                <i class="fas fa-plus mr-2"></i> Yeni Gayrimenkul
                            </button>
                            <button onclick="openModal('customer')" class="w-full bg-primary-blue text-white py-3 px-4 rounded-lg hover:bg-blue-dark transition flex items-center justify-center">
                                <i class="fas fa-user-plus mr-2"></i> Yeni Müşteri
                            </button>
                            <button onclick="openModal('transaction')" class="w-full bg-primary-yellow text-gray-800 py-3 px-4 rounded-lg hover:bg-yellow-dark transition flex items-center justify-center">
                                <i class="fas fa-file-contract mr-2"></i> Yeni İşlem
                            </button>
                            <button onclick="openModal('document')" class="w-full bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 transition flex items-center justify-center">
                                <i class="fas fa-upload mr-2"></i> Doküman Yükle
                            </button>
                        </div>

                        <div class="mt-6 pt-6 border-t">
                            <h4 class="text-sm font-semibold mb-3">Yaklaşan Randevular</h4>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between text-sm">
                                    <div>
                                        <p class="font-medium">Ahmet Bey - Arsa Görüşmesi</p>
                                        <p class="text-gray-500">Bugün 14:00</p>
                                    </div>
                                    <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">Acil</span>
                                </div>
                                <div class="flex items-center justify-between text-sm">
                                    <div>
                                        <p class="font-medium">Ayşe Hanım - Villa İnceleme</p>
                                        <p class="text-gray-500">Yarın 10:00</p>
                                    </div>
                                    <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">Onaylandı</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals will be added here -->
    <div id="modalContainer"></div>

    <script>
        // Initialize Charts
        document.addEventListener('DOMContentLoaded', function() {
            // Sales Chart
            const salesCtx = document.getElementById('salesChart').getContext('2d');
            new Chart(salesCtx, {
                type: 'line',
                data: {
                    labels: ['Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran'],
                    datasets: [{
                        label: 'Satış',
                        data: [12, 19, 15, 25, 22, 30],
                        borderColor: '#52B947',
                        backgroundColor: 'rgba(82, 185, 71, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'Kiralama',
                        data: [8, 12, 10, 14, 16, 19],
                        borderColor: '#0B5394',
                        backgroundColor: 'rgba(11, 83, 148, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 35
                        }
                    }
                }
            });

            // Property Types Chart
            const propertyCtx = document.getElementById('propertyChart').getContext('2d');
            new Chart(propertyCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Arsa', 'Villa', 'Daire', 'Tarla', 'Dükkan'],
                    datasets: [{
                        data: [45, 25, 15, 10, 5],
                        backgroundColor: [
                            '#52B947',
                            '#0B5394',
                            '#FFC000',
                            '#7FD276',
                            '#2B73B4'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    }
                }
            });

            // Setup navigation
            setupNavigation();
        });



        // Open Modal
        function openModal(type) {
            alert(`${type} ekleme modalı açılacak`);
            // Modal implementation will be added
        }

        // Toggle Fullscreen
        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }

        // Logout function
        function logout() {
            if (confirm('Çıkış yapmak istediğinizden emin misiniz?')) {
                localStorage.removeItem('adminLoggedIn');
                localStorage.removeItem('adminEmail');
                localStorage.removeItem('arsarazi_user');
                window.location.href = 'admin.html';
            }
        }

        // Check login status on page load
        document.addEventListener('DOMContentLoaded', function() {
            const adminLoggedIn = localStorage.getItem('adminLoggedIn');
            const currentUser = localStorage.getItem('arsarazi_user');
            
            console.log('Dashboard Login Check:', { adminLoggedIn, currentUser });
            
            if (!adminLoggedIn || adminLoggedIn !== 'true' || !currentUser) {
                console.log('Not authenticated, redirecting to admin login...');
                // Redirect to admin login if not authenticated
                window.location.href = 'admin.html';
                return;
            }
            
            // Parse user data
            try {
                const userData = JSON.parse(currentUser);
                console.log('User data:', userData);
                if (userData.type !== 'admin') {
                    console.log('User is not admin, redirecting...');
                    window.location.href = 'admin.html';
                    return;
                }
                console.log('Authentication successful!');
            } catch (error) {
                console.log('Error parsing user data:', error);
                window.location.href = 'admin.html';
                return;
            }
            
            // Load dashboard data first
            loadDashboardData();
            
            // Set active menu item after a short delay to ensure DOM is ready
            setTimeout(() => {
                setActiveMenuItem();
            }, 100);
        });

        // Load dashboard data from localStorage
        function loadDashboardData() {
            try {
                // Load statistics
                loadStatistics();
                
                // Load charts
                initializeCharts();
                
            } catch (error) {
                console.error('Dashboard veri yükleme hatası:', error);
            }
        }

        // Load statistics from localStorage
        function loadStatistics() {
            try {
                // Load data from localStorage
                const properties = JSON.parse(localStorage.getItem('arsarazi_properties') || '[]');
                const customers = JSON.parse(localStorage.getItem('arsarazi_customers') || '[]');
                
                // Calculate statistics
                const totalProperties = properties.length;
                const activeCustomers = customers.filter(c => c.status === 'Aktif').length;
                const monthlyTransactions = Math.floor(Math.random() * 10) + 5; // Mock data
                const totalRevenue = properties.reduce((sum, p) => sum + p.price, 0);
                
                // Mock growth percentages
                const propertiesGrowth = Math.floor(Math.random() * 20) + 5;
                const customersGrowth = Math.floor(Math.random() * 15) + 3;
                const transactionsGrowth = Math.floor(Math.random() * 25) + 10;
                const revenueGrowth = Math.floor(Math.random() * 30) + 15;
                
                const data = {
                    toplam_gayrimenkul: totalProperties,
                    gayrimenkul_artis: propertiesGrowth,
                    aktif_musteriler: activeCustomers,
                    musteri_artis: customersGrowth,
                    bu_ay_islem: monthlyTransactions,
                    islem_artis: transactionsGrowth,
                    toplam_deger: totalRevenue,
                    deger_artis: revenueGrowth
                };
                
                updateStatistics(data);
            } catch (error) {
                console.error('İstatistik yükleme hatası:', error);
            }
        }

        // Update statistics display
        function updateStatistics(data) {
            // Update property count
            document.getElementById('totalProperties').textContent = data.toplam_gayrimenkul || 0;
            document.getElementById('propertiesGrowthText').textContent = `${data.gayrimenkul_artis || 0}%`;
            
            // Update customer count
            document.getElementById('totalCustomers').textContent = data.aktif_musteriler || 0;
            document.getElementById('customersGrowthText').textContent = `${data.musteri_artis || 0}%`;
            
            // Update transaction count
            document.getElementById('monthlyTransactions').textContent = data.bu_ay_islem || 0;
            document.getElementById('transactionsGrowthText').textContent = `${data.islem_artis || 0}%`;
            
            // Update revenue
            const revenue = data.toplam_deger || 0;
            document.getElementById('totalRevenue').textContent = formatCurrency(revenue);
            document.getElementById('revenueGrowthText').textContent = `${data.deger_artis || 0}%`;
            
            // Update growth indicators
            updateGrowthIndicator('propertiesGrowth', data.gayrimenkul_artis);
            updateGrowthIndicator('customersGrowth', data.musteri_artis);
            updateGrowthIndicator('transactionsGrowth', data.islem_artis);
            updateGrowthIndicator('revenueGrowth', data.deger_artis);
        }

        // Update growth indicator color and icon
        function updateGrowthIndicator(elementId, growth) {
            const element = document.getElementById(elementId);
            const icon = element.querySelector('i');
            const textElement = element.querySelector('span');
            
            if (growth > 0) {
                element.className = 'text-green-500 text-sm mt-2 flex items-center';
                icon.className = 'fas fa-arrow-up mr-1';
                textElement.textContent = `${growth}%`;
            } else if (growth < 0) {
                element.className = 'text-red-500 text-sm mt-2 flex items-center';
                icon.className = 'fas fa-arrow-down mr-1';
                textElement.textContent = `${Math.abs(growth)}%`;
            } else {
                element.className = 'text-gray-500 text-sm mt-2 flex items-center';
                icon.className = 'fas fa-minus mr-1';
                textElement.textContent = '0%';
            }
        }

        // Format currency
        function formatCurrency(amount) {
            if (amount >= 1000000) {
                return `₺${(amount / 1000000).toFixed(1)}M`;
            } else if (amount >= 1000) {
                return `₺${(amount / 1000).toFixed(1)}K`;
            } else {
                return `₺${amount.toLocaleString()}`;
            }
        }

        // Handle dashboard click
        function handleDashboardClick(event) {
            event.preventDefault();
            console.log('Dashboard clicked, preventing navigation');
            
            // Dashboard zaten aktif sayfada olduğumuz için sadece menü durumunu koru
            setActiveMenuItem();
        }

        // Set active menu item based on current page
        function setActiveMenuItem() {
            console.log('Setting active menu item...');
            
            // Dashboard sayfasında olduğumuz için dashboard'u aktif yap
            const menuItems = document.querySelectorAll('.sidebar-item');
            
            menuItems.forEach(item => {
                // Tüm menü öğelerini pasif yap
                item.classList.remove('active');
                const icon = item.querySelector('i');
                if (icon) {
                    icon.classList.remove('text-primary-green');
                    icon.classList.add('text-gray-600');
                }
            });
            
            // Dashboard linkini bul ve aktif yap
            const dashboardLink = document.querySelector('a[href="dashboard.html"]');
            if (dashboardLink) {
                dashboardLink.classList.add('active');
                const icon = dashboardLink.querySelector('i');
                if (icon) {
                    icon.classList.remove('text-gray-600');
                    icon.classList.add('text-primary-green');
                }
                console.log('Dashboard menu item activated');
            } else {
                console.log('Dashboard link not found');
            }
        }
    </script>
</body>
</html>